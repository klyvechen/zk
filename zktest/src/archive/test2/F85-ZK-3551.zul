<?xml version="1.0" encoding="UTF-8"?>
<!--
F85-ZK-3551.zul

        Purpose:
                
        Description:
                
        History:
                Tue May 29 20:38:30 CST 2018, Created by klyve

Copyright (C) 2018 Potix Corporation. All Rights Reserved.

-->

<zk >
    <style>.z-menubar-hor, .z-menubar-ver { border: 1px solid #D8D8D8; }
    .content {overflow-x: hidden;overflow-y: scroll;}</style>
sA
 	<button>
 		<attribute name="onClick"><![CDATA[
              Menupopup menupopup = targetMenu.getMenupopup();
              Menuitem firstMenuItem = (Menuitem) menupopup.getFirstChild();
              menupopup.open(firstMenuItem,"after_start");
              firstMenuItem.setFocus(true);
              //preparing the JS script to be evaluated on client side
              String clientScript = "var clientMenuPopup = zk.$('#"+menupopup.getUuid()+"');clientMenuPopup._curIndex = 0;target = clientMenuPopup.getChildAt(this._curIndex);if(target!=null){target.$class._addActive(target);console.log(target);};console.log('finish');";
              //expended for clarity:
              //String clientScript = "";
              //clientScript +="var clientMenuPopup = zk.$('#"+menupopup.getUuid()+"');";
              //clientScript +="clientMenuPopup._curIndex = 0;"; //0 could be changed to another index if you wanted to select another item
              //clientScript +="target = clientMenuPopup.getChildAt(clientMenuPopup._curIndex);";
              //clientScript +="if(target!=null){";
              //clientScript +="target.$class._addActive(target);";
              //clientScript +="};";
              //clientScript +="console.log('finish');"

              Clients.log(clientScript);
              Clients.evalJavaScript(clientScript);


 		]]></attribute>
 	</button>

    <panel border="normal" title="ZK Report Viewer">
        <panelchildren>
            <menubar id="menubar" width="100%">
                <menu label="File">
                    <menupopup>
                        <menu label="New" image="/widgets/menu/drop-down_menu/img/file_new.png">
                            <menupopup>
                                <menuitem label="Document" onClick="" image="" />
                                <menuitem label="Spreadsheet" onClick="" image="" />
                                <menuitem label="Presentation" onClick="" image="" />
                            </menupopup>
                        </menu>
                        <menuitem label="Open.." onClick="" image="" />
                        <menuseparator></menuseparator>
                        <menuitem label="Save" onClick="" image="" />
                        <menuitem label="Save As..." onClick="" image="" />
                        <menuitem label="Save All" onClick="" image="" />
                        <menuitem label="Close" onClick="" image="" />
                        <menuitem label="Close All" onClick="" image="" />
                        <menuseparator></menuseparator>
                        <menuitem label="Import" onClick="" image="" />
                        <menuitem label="Export" disabled="true" image="" />
                        <menuseparator></menuseparator>
                        <menuitem label="Exit" disabled="true" image="" />
                    </menupopup>
                </menu>
                <menu id="targetMenu" label="Edit">
                    <menupopup>
                        <menuitem label="Undo" onClick="" image="" />
                        <menuitem label="Redo" disabled="true" image="" />
                        <menuseparator></menuseparator>
                        <menuitem label="Cut" onClick="" image="" />
                        <menuitem label="Copy" onClick="" image="" />
                        <menuitem label="Paste" onClick="" image="" />
                        <menuseparator></menuseparator>
                        <menuitem label="Select All" onClick="" image="" />
                    </menupopup>
                </menu>
                <menu label="Help">
                    <menupopup>
                        <menuitem label="Issue tracker" target="_zkdemo" href="http://tracker.zkoss.org" image="" />
                        <menu label="About">
                            <menupopup>
                                <menuitem label="About Potix" target="_zkdemo" href="http://www.zkoss.org/support/about" onClick="" />
                            </menupopup>
                        </menu>
                    </menupopup>
                </menu>
                <menuitem label="ZK Web Framework" target="_zkdemo" href="http://www.zkoss.org/download" image="" onClick="" />
            </menubar>
            <div height="300px" sclass="content">
                <image src=""></image>
            </div>
        </panelchildren>
    </panel>
</zk>